<!DOCTYPE HTML>
<html>

<head>
  <title>SPA HB Integration example</title>
  <meta name="description" content="website description" />
  <meta name="keywords" content="website keywords, website keywords" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="style/style.css" title="style" />

  <!-- Helper scripts // no dependency to ads -->
    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!-- lorem ipsum -->
    <script src="lorem.js"></script>  

  <script type="text/javascript">
  // Load Ad Wrapper    
  (function() {        
            var hbads = document.createElement('script');
            hbads.async = true;
            hbads.type = 'text/javascript';
            hbads.src = "prebid.js";
            var node = document.getElementsByTagName('script')[0];
            node.parentNode.insertBefore(hbads, node);
  })(); 

  /* Generating some random content */
  function generateRandomContent(){
    var lorem = new Lorem(); 
      lorem.type = Lorem.TEXT; 
      lorem.query = '3p'; 
      return lorem.createLorem();
    } 

  function putPageContent(){
    // Clear content from page
    $("#content").html("");

    // Add ad body tag
    $("#content").append("<div data-aaad='true' data-aa-adunit='/19191187/spa_test'></div>");

    // Add some randome content
    $("#content").append(generateRandomContent());

    // Add ad body tag
    $("#content").append("<div data-aaad='true' data-aa-adunit='/19191187/spa_test'></div>");

    // Add some randome content
    $("#content").append(generateRandomContent());

    // Add ad body tag
    $("#content").append("<div data-aaad='true' data-aa-adunit='/19191187/spa_test'></div>");

    // Add some randome content
    $("#content").append(generateRandomContent());
  }  

  // On page load
  $( document ).ready(function() {

      // Put content on page 
      putPageContent();

      // On Menu click
      $(".newPage").click(function(){
          /* Destroy ad adunits */
          (window.adn = window.adn || {"cmd":[]}).cmd.push(function(){ 
                                                                window.adn.destroy(); 
                                                            });  

          // Put content on page 
          putPageContent(); 

          /* Process new ad body tags on page */
          (window.adn = window.adn || {"cmd":[]}).cmd.push(function(){ 
                                                                window.adn.processAdsOnPage(); 
                                                            });   
      });

  });
  </script>

</head>

<body>
  <div id="main">
    <div id="header">
      <div id="logo">
        <div id="logo_text">
          <!-- class="logo_colour", allows you to change the colour of the text -->
          <h1><a href="index.html">SPA<span class="logo_colour"> HB Integration example</span></a></h1>
          <h2></h2>
        </div>
      </div>
      <div id="menubar">
        <ul id="menu">
          <!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
          <li><a class="newPage">Go To New Page</a></li>
          <li><a class="newPage">Go To New Page</a></li>
          <li><a class="newPage">Go To New Page</a></li>
          <li><a class="newPage">Go To New Page</a></li>
        </ul>
      </div>
    </div>
    <div id="site_content">
      <div class="sidebar">
        <!-- insert your sidebar items here -->
        <div id="sidebarAd1"></div>
        <br>
        <h3>Latest News</h3>
        <h4>New Website Launched</h4>
        <h5>January 1st, 2017</h5>
        <p>2014 sees the redesign of our website. Take a look around and let us know what you think.<br /></p>
        <p></p>
        <h4>New Website Launched</h4>
        <h5>January 1st, 2017</h5>
        <p>2014 sees the redesign of our website. Take a look around and let us know what you think.<br /></p>
        <div id="sidebarAd2"></div>
        <br>
        <h3>Useful Links</h3>
        <ul>
          <li><a href="#">link 1</a></li>
          <li><a href="#">link 2</a></li>
          <li><a href="#">link 3</a></li>
          <li><a href="#">link 4</a></li>
        </ul>
        <h3>Search</h3>
        <form method="post" action="#" id="search_form">
          <p>
            <input class="search" type="text" name="search_field" value="Enter keywords....." />
            <input name="search" type="image" style="border: 0; margin: 0 0 -9px 5px;" src="style/search.png" alt="Search" title="Search" />
          </p>
        </form>
      </div>
      <div id="content">
          <h2>Click on the top menu</h2>
      </div>
    </div>
    <div id="footer">
    </div>
  </div>

</body>
</html>
